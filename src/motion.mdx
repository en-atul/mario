import { Meta, Title } from "@storybook/addon-docs/blocks";
import { duration, easing, animation, transition } from "./tokens/motion";
import React from "react";

<Meta title="Tokens/Motion" />

<Title>Motion</Title>

Motion tokens define the timing, easing, and animation presets used throughout the design system. These tokens ensure consistent and accessible animations across all components.

## Duration

Duration tokens define how long animations take to complete.

<table>
  <thead>
    <tr>
      <th>Token</th>
      <th>Value</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(duration).map(([token, value]) => {
      const useCases = {
        instant: 'Immediate state changes',
        fast: 'Quick micro-interactions',
        base: 'Standard animations (default)',
        slow: 'Deliberate transitions',
        slower: 'Complex animations',
        slowest: 'Extended transitions',
      };
      return (
        <tr key={token}>
          <td><code>{token}</code></td>
          <td><code>{value}s</code></td>
          <td>{useCases[token] || ''}</td>
        </tr>
      );
    })}
  </tbody>
</table>

```tsx
import { duration } from './tokens/motion';

// Usage with framer-motion
<motion.div
  transition={{ duration: duration.base }}
/>
```

## Easing

Easing functions control the acceleration and deceleration of animations.

<table>
  <thead>
    <tr>
      <th>Token</th>
      <th>Cubic Bezier</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(easing).map(([token, values]) => {
      const useCases = {
        linear: 'Constant speed',
        easeIn: 'Accelerating',
        easeOut: 'Decelerating (recommended)',
        easeInOut: 'Accelerate then decelerate',
        standard: 'Material Design standard',
        decelerate: 'Smooth deceleration',
        accelerate: 'Quick acceleration',
        spring: 'Spring-like bounce',
      };
      return (
        <tr key={token}>
          <td><code>{token}</code></td>
          <td><code>[{values.join(', ')}]</code></td>
          <td>{useCases[token] || ''}</td>
        </tr>
      );
    })}
  </tbody>
</table>

```tsx
import { easing } from './tokens/motion';

<motion.div
  transition={{ 
    duration: 0.2,
    ease: easing.easeOut 
  }}
/>
```

## Animation Presets

Pre-configured animation variants for common use cases.

### Fade Animations

- **fadeIn** - Fade in from transparent
- **fadeOut** - Fade out to transparent

### Slide Animations

- **slideUp** - Slide up while fading in
- **slideDown** - Slide down while fading in
- **slideLeft** - Slide left while fading in
- **slideRight** - Slide right while fading in

### Scale Animations

- **scaleIn** - Scale up while fading in
- **scaleOut** - Scale down while fading out

### Combined Animations

- **modal** - Combined fade, scale, and slide (used in Modal/Dialog)
- **overlay** - Simple fade for backdrop overlays

```tsx
import { animation } from './tokens/motion';
import { motion } from 'framer-motion';

<motion.div
  initial={animation.slideUp.initial}
  animate={animation.slideUp.animate}
  exit={animation.slideUp.exit}
/>
```

## Transition Presets

Pre-configured transition settings for consistent timing.

<table>
  <thead>
    <tr>
      <th>Preset</th>
      <th>Duration</th>
      <th>Easing</th>
      <th>Use Case</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(transition).map(([preset, config]) => {
      const useCases = {
        default: 'Standard transitions',
        fast: 'Quick interactions',
        slow: 'Deliberate animations',
        modal: 'Modal/Dialog animations',
        overlay: 'Backdrop overlays',
        spring: 'Spring physics',
        springGentle: 'Gentle spring',
      };
      const durationValue = config.duration ? `${config.duration}s` : '-';
      const easingValue = config.ease 
        ? (Array.isArray(config.ease) ? `[${config.ease.join(', ')}]` : config.ease)
        : (config.type === 'spring' ? 'spring' : '-');
      return (
        <tr key={preset}>
          <td><code>{preset}</code></td>
          <td><code>{durationValue}</code></td>
          <td><code>{easingValue}</code></td>
          <td>{useCases[preset] || ''}</td>
        </tr>
      );
    })}
  </tbody>
</table>

```tsx
import { transition } from './tokens/motion';

<motion.div
  transition={transition.default}
/>
```

## Usage Examples

### Modal Animation

```tsx
import { motion, AnimatePresence } from 'framer-motion';
import { animation, transition } from './tokens/motion';

<AnimatePresence>
  {isOpen && (
    <motion.div
      initial={animation.modal.initial}
      animate={animation.modal.animate}
      exit={animation.modal.exit}
      transition={transition.modal}
    >
      Content
    </motion.div>
  )}
</AnimatePresence>
```

### Overlay Animation

```tsx
import { animation, transition } from './tokens/motion';

<motion.div
  initial={animation.overlay.initial}
  animate={animation.overlay.animate}
  exit={animation.overlay.exit}
  transition={transition.overlay}
  className="fixed inset-0 bg-black/50"
/>
```

### Spring Animation

```tsx
import { transition } from './tokens/motion';

<motion.button
  whileHover={{ scale: 1.05 }}
  whileTap={{ scale: 0.95 }}
  transition={transition.spring}
>
  Click me
</motion.button>
```

## Accessibility

- Animations respect `prefers-reduced-motion` media query
- Use `duration.fast` or `duration.instant` for reduced motion
- Avoid animations that could trigger motion sickness
- Keep animations under 0.3s for most interactions

